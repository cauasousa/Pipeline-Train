<!-- NOTE: este arquivo √© uma c√≥pia/backup da UI. O arquivo ativo √©:
     frontend/public/index.html
     Mantenha este arquivo apenas como refer√™ncia ou remova se preferir. -->

<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma YOLO Classifica√ß√£o</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Replace the <style> block with shared variables and clearer layout (same as frontend/public/index.html) -->
    <style>
        :root {
            --sidebar-width: 250px;
            --sidebar-collapsed-width: 60px;
            --rightpanel-width: 300px;
            --bg: #0F0F23;
            --panel-bg: #1E1E2F;
            --accent: #3B82F6;
            --muted: #888;
        }

        /* Estilos Gerais */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: #FFFFFF;
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            height: 100%;
            width: var(--sidebar-width);
            background: var(--panel-bg);
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
            z-index: 100;
            transition: width .25s ease;
            overflow: auto;
        }

        .sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
        }

        .sidebar .menu-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color .18s;
        }

        .sidebar .menu-item i {
            margin-right: 10px;
            font-size: 18px;
        }

        .sidebar .menu-item:hover,
        .sidebar .menu-item.active {
            background: var(--accent);
        }

        .sidebar.collapsed .menu-item span {
            display: none;
        }

        /* √Årea Principal */
        .main-content {
            position: relative;
            margin-left: var(--sidebar-width);
            margin-right: var(--rightpanel-width);
            height: 100vh;
            padding: 20px;
            overflow: auto;
            box-sizing: border-box;
            transition: margin-left .25s ease;
            z-index: 1;
        }

        .main-content.collapsed {
            margin-left: var(--sidebar-collapsed-width);
        }

        /* Painel Lateral Direito */
        .right-panel {
            position: fixed;
            right: 0;
            top: 0;
            height: 100%;
            width: var(--rightpanel-width);
            background: var(--panel-bg);
            padding: 20px;
            box-shadow: -2px 0 5px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
            overflow: auto;
            z-index: 90;
        }

        /* Formul√°rios e Componentes */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--accent);
            border-radius: 6px;
            background: var(--bg);
            color: #FFFFFF;
            box-sizing: border-box;
        }

        .btn {
            padding: 10px 16px;
            background: var(--accent);
            color: #FFFFFF;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-right: 10px;
        }

        .btn:hover {
            background: #2563EB;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.3s;
        }

        .chart-placeholder {
            height: 300px;
            background: var(--panel-bg);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted);
        }

        .grid {
            display: grid;
            gap: 15px;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        }

        .card {
            background: var(--panel-bg);
            padding: 12px;
            border-radius: 6px;
            text-align: center;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th,
        .table td {
            padding: 10px;
            border: 1px solid #333;
            text-align: left;
        }

        .table th {
            background: var(--accent);
        }

        /* Responsividade */
        @media (max-width: 900px) {
            :root {
                --rightpanel-width: 0px;
            }

            .main-content {
                margin-right: 0;
            }

            .right-panel {
                display: none;
            }
        }

        @media (max-width: 600px) {
            .sidebar {
                width: var(--sidebar-collapsed-width);
            }

            .main-content {
                margin-left: var(--sidebar-collapsed-width);
            }
        }
    </style>
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="toggle-btn" onclick="toggleSidebar()">‚ò∞</div>
        <div class="menu-item active" data-section="training" onclick="showSection('training')">
            <i class="fas fa-brain"></i>
            <span>Treinamento</span>
        </div>
        <div class="menu-item" data-section="prediction" onclick="showSection('prediction')">
            <i class="fas fa-search"></i>
            <span>Predi√ß√£o</span>
        </div>
        <div class="menu-item" data-section="metrics" onclick="showSection('metrics')">
            <i class="fas fa-chart-line"></i>
            <span>M√©tricas</span>
        </div>
        <div class="menu-item" data-section="history" onclick="showSection('history')">
            <i class="fas fa-history"></i>
            <span>Hist√≥rico</span>
        </div>
        <div class="menu-item" data-section="settings" onclick="showSection('settings')">
            <i class="fas fa-cog"></i>
            <span>Configura√ß√µes</span>
        </div>
    </div>

    <!-- √Årea Principal -->
    <div class="main-content" id="main-content">
        <!-- Tela de Treinamento -->
        <div class="section active" id="training">
            <h2>üß† Treinamento</h2>
            <div class="form-group">
                <label>Sele√ß√£o de Dataset</label>
                <select>
                    <option>animals</option>
                    <option>plants</option>
                    <option>vehicles</option>
                </select>
                <button class="btn">üìÅ Upload Dataset</button>
            </div>
            <div class="form-group">
                <label>Par√¢metros do Treinamento</label>
                <input type="number" placeholder="epochs" value="100">
                <input type="number" placeholder="batch" value="16">
                <input type="number" placeholder="imgsz" value="640">
                <select>
                    <option>optimizer: SGD</option>
                    <option>optimizer: Adam</option>
                </select>
                <input type="number" step="0.001" placeholder="lr0" value="0.01">
                <input type="number" step="0.0001" placeholder="weight_decay" value="0.0005">
                <input type="number" step="0.01" placeholder="momentum" value="0.937">
                <input type="range" min="0" max="1" step="0.1" value="0.5" placeholder="flipud">
                <input type="range" min="0" max="1" step="0.1" value="0.5" placeholder="fliplr">
                <input type="range" min="0" max="1" step="0.1" value="0.5" placeholder="scale">
                <input type="range" min="0" max="360" value="0" placeholder="degrees">
            </div>
            <div class="form-group">
                <label>Configura√ß√µes Gerais</label>
                <select>
                    <option>Device: GPU</option>
                    <option>Device: CPU</option>
                </select>
                <input type="checkbox" id="save-checkpoints"> <label for="save-checkpoints">Salvar checkpoints</label>
                <input type="text" placeholder="Nome do experimento">
            </div>
            <button class="btn" onclick="startTraining()">‚ñ∂Ô∏è Iniciar Treinamento</button>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="chart-placeholder">Gr√°fico de Accuracy e Loss (Simulado)</div>
            <textarea id="logs" readonly style="width:100%; height:200px; background:#0F0F23; color:#FFF;"></textarea>
        </div>

        <!-- Tela de Predi√ß√£o -->
        <div class="section" id="prediction">
            <h2>üîç Predi√ß√£o</h2>
            <div class="form-group">
                <label>Sele√ß√£o de Modelo</label>
                <select>
                    <option>Modelo 1</option>
                    <option>Modelo 2</option>
                </select>
            </div>
            <div class="form-group">
                <label>Fonte das Imagens</label>
                <select>
                    <option>Imagens aleat√≥rias do dataset</option>
                    <option>Selecionar pasta espec√≠fica</option>
                    <option>Imagens de valida√ß√£o (val)</option>
                </select>
                <button class="btn">üìÅ Selecionar Pasta</button>
            </div>
            <div class="form-group">
                <label>Op√ß√µes Avan√ßadas</label>
                <input type="checkbox"> Aplicar filtros pr√©-processamento
                <input type="range" min="1" max="100" value="10" placeholder="N√∫mero de imagens">
            </div>
            <button class="btn" onclick="runPrediction()">‚ñ∂Ô∏è Executar Predi√ß√£o</button>
            <div class="grid" id="prediction-results">
                <!-- Resultados ser√£o adicionados aqui -->
            </div>
        </div>

        <!-- Tela de M√©tricas -->
        <div class="section" id="metrics">
            <h2>üìà M√©tricas</h2>
            <div class="form-group">
                <label>Selecionar Modelo</label>
                <select>
                    <option>Modelo 1</option>
                    <option>Modelo 2</option>
                </select>
            </div>
            <div class="grid">
                <div class="card">Accuracy: 95%</div>
                <div class="card">Top-1: 92%</div>
                <div class="card">Top-5: 98%</div>
                <div class="card">Loss: 0.05</div>
            </div>
            <div class="chart-placeholder">Gr√°fico de Evolu√ß√£o</div>
            <div class="chart-placeholder">Curva Precision-Recall</div>
            <div class="chart-placeholder">ROC Curve</div>
            <div class="chart-placeholder">Confusion Matrix</div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Classe</th>
                        <th>Precision</th>
                        <th>Recall</th>
                        <th>F1</th>
                        <th>Support</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Classe 1</td>
                        <td>0.95</td>
                        <td>0.92</td>
                        <td>0.93</td>
                        <td>100</td>
                    </tr>
                    <tr>
                        <td>Classe 2</td>
                        <td>0.88</td>
                        <td>0.90</td>
                        <td>0.89</td>
                        <td>150</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Tela de Hist√≥rico -->
        <div class="section" id="history">
            <h2>üìú Hist√≥rico de Experimentos</h2>
            <input type="text" placeholder="Buscar por dataset ou data">
            <table class="table">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Dataset</th>
                        <th>Accuracy</th>
                        <th>Epochs</th>
                        <th>Data</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Exp1</td>
                        <td>animals</td>
                        <td>95%</td>
                        <td>100</td>
                        <td>2023-10-01</td>
                        <td><button class="btn">üìä Visualizar</button><button class="btn">‚ôªÔ∏è Repetir</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Tela de Configura√ß√µes -->
        <div class="section" id="settings">
            <h2>‚öôÔ∏è Configura√ß√µes</h2>
            <div class="form-group">
                <label>Caminho padr√£o de datasets</label>
                <input type="text" value="/datasets">
            </div>
            <div class="form-group">
                <label>Caminho padr√£o de checkpoints</label>
                <input type="text" value="/checkpoints">
            </div>
            <div class="form-group">
                <label>GPU remota</label>
                <input type="text" placeholder="API ou endere√ßo">
            </div>
            <div class="form-group">
                <label>Tema</label>
                <select>
                    <option>Escuro</option>
                    <option>Claro</option>
                </select>
            </div>
            <button class="btn">üíæ Salvar Altera√ß√µes</button>
        </div>
    </div>

    <!-- Painel Lateral Direito -->
    <div class="right-panel">
        <h3>Logs / M√©tricas R√°pidas</h3>
        <div class="log-area" id="log-area">
            <!-- Logs simulados -->
            [INFO] Iniciando treinamento...<br>
            [INFO] Epoch 1/100: Loss 0.5<br>
            [INFO] Epoch 2/100: Loss 0.4<br>
        </div>
        <div class="metrics">
            <p><strong>√öltimo Modelo:</strong> Exp1 - Accuracy: 95%</p>
            <p><strong>Tempo m√©dio por epoch:</strong> 5s</p>
            <p><strong>GPU:</strong> NVIDIA RTX 3080 - Uso: 80% - Temp: 65¬∞C</p>
            <button class="btn">üîÅ Atualizar</button>
        </div>
    </div>

    <!-- Replace toggle/showSection JS (same as updated file above) -->
    <script>
        const API_BASE = "http://localhost:8000";

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const main = document.getElementById('main-content');
            sidebar.classList.toggle('collapsed');
            main.classList.toggle('collapsed');
            const expanded = sidebar.classList.contains('collapsed') ? 'false' : 'true';
            sidebar.setAttribute('aria-expanded', expanded);
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
            const target = document.getElementById(sectionId);
            if (!target) return;
            target.classList.add('active');
            const menuItem = document.querySelector(`[data-section="${sectionId}"]`);
            if (menuItem) menuItem.classList.add('active');
            const h = target.querySelector('h2');
            if (h) h.focus?.();
        }

        function startTraining() {
            const progress = document.getElementById('progress-fill');
            const logs = document.getElementById('logs');
            let percent = 0;
            const interval = setInterval(() => {
                percent++;
                progress.style.width = percent + '%';
                if (logs) { logs.value += `[INFO] Epoch ${percent}/100: Loss ${(0.5 - percent * 0.005).toFixed(2)}\n`; logs.scrollTop = logs.scrollHeight; }
                if (percent >= 100) clearInterval(interval);
            }, 100);
        }

        function runPrediction() {
            const results = document.getElementById('prediction-results');
            results.innerHTML = '';
            for (let i = 0; i < 6; i++) {
                results.innerHTML += `<div class="card"><img src="https://via.placeholder.com/150" alt="Imagem"><p>Classe: Animal</p><p>Probabilidade: 95%</p></div>`;
            }
        }
    </script>
</body>

</html>